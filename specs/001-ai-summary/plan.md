# Implementation Plan: AI 요약 기능 추가

**Branch**: `001-ai-summary` | **Date**: 2026-01-14 | **Spec**: [spec.md](./spec.md)
**Input**: Feature specification from `/specs/001-ai-summary/spec.md`

**Note**: This template is filled in by the `/speckit.plan` command. See `.specify/templates/commands/plan.md` for the execution workflow.

## Summary

Add AI summary display functionality to project detail pages. The AI summary section appears below the project title, displaying a generated summary when available. Features include conditional display (empty summaries are hidden), markdown rendering, character-count-based truncation with expand/collapse (300+ characters), ARIA labels for accessibility, and visual distinction from other content. The summary is stored as a required field `aiSummary` in the project data schema (empty string allowed).

## Technical Context

**Language/Version**: TypeScript 5.x
**Primary Dependencies**: Astro 4.x, React 18.x, Tailwind CSS 3.x, Zod 3.x
**Storage**: JSON files in `src/content/projects/*.json`
**Testing**: Vitest (unit), Playwright (E2E)
**Target Platform**: Static web build (Astro SSG) - supports all modern browsers
**Project Type**: Web application (Astro SSG with React islands for interactivity)
**Performance Goals**: Page load under 2s, summary render under 1s (from parent spec SC-003, SC-001)
**Constraints**: Static site generation (no server-side runtime), WCAG 2.1 AA accessibility compliance
**Scale/Scope**: ~10-50 projects initially, each with optional 100-500 character summaries

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

**Status**: No constitution defined yet - using default best practices

| Principle | Status | Notes |
|-----------|--------|-------|
| Type Safety | Pass | Using TypeScript strict mode + Zod validation |
| Accessibility | Pass | WCAG 2.1 AA compliance with ARIA labels |
| Mobile-First | Pass | Responsive design via Tailwind CSS |
| Static-First | Pass | No external APIs, build-time data loading |

## Project Structure

### Documentation (this feature)

```text
specs/001-ai-summary/
├── plan.md              # This file (/speckit.plan command output)
├── research.md          # Phase 0 output - best practices for Astro components
├── data-model.md        # Phase 1 output - aiSummary field definition
├── quickstart.md        # Phase 1 output - developer setup guide
├── contracts/           # Phase 1 output - Zod schema updates
│   └── project-schema.ts.zod
└── tasks.md             # Phase 2 output (/speckit.tasks command - NOT created by /speckit.plan)
```

### Source Code (repository root)

```text
src/
├── components/
│   ├── ProjectDetail.astro     # MODIFY: Add AISummary section below title
│   └── AISummary.astro         # NEW: Reusable AI summary component
├── content/
│   ├── config.ts               # MODIFY: Add aiSummary field to project schema
│   └── projects/               # MODIFY: Add aiSummary to existing .json files
├── lib/
│   └── utils.ts                # MODIFY: Add character count utility
└── styles/
    └── global.css              # MODIFY: Add AI summary specific styles (optional)
```

**Structure Decision**: Web application structure using Astro's static site generation pattern. New `AISummary.astro` component for reusability, with integration into existing `ProjectDetail.astro`. Schema update in `config.ts` following existing Zod pattern.

## Complexity Tracking

> **Fill ONLY if Constitution Check has violations that must be justified**

| Violation | Why Needed | Simpler Alternative Rejected Because |
|-----------|------------|-------------------------------------|
| N/A | No violations | Constitution check passed |

## Phase 0: Research & Decisions

**Output**: [research.md](./research.md) - Best practices for Astro component development, markdown rendering, accessibility patterns

## Phase 1: Design Artifacts

**Output**: [data-model.md](./data-model.md), [contracts/](./contracts/), [quickstart.md](./quickstart.md)

### Data Model Changes

| Entity | Field | Type | Required | Description |
|--------|-------|------|----------|-------------|
| Project | aiSummary | string | Yes | AI-generated summary, empty string allowed |

### Component Design

| Component | Props | Responsibility |
|-----------|-------|----------------|
| AISummary.astro | summary: string, maxChars?: number | Render summary with truncation, ARIA labels, markdown |
| ProjectDetail.astro | (existing) | Integrate AISummary below title |

## Phase 2: Implementation Tasks

**Output**: [tasks.md](./tasks.md) - Generated by `/speckit.tasks` command

## Dependencies

| Task | Depends On |
|------|------------|
| AISummary component creation | Schema update (aiSummary field) |
| ProjectDetail integration | AISummary component |
| Data migration (add aiSummary to existing projects) | Schema update |
| Testing | All implementation tasks |
